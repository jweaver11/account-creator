<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Account Creator Program</title>
        <link rel="stylesheet" type="text/css" href="../css/styles.css"  /> <!-- Link to the CSS file -->
    </head>
    <!-- End of head -->

    <!-- Start of body -->
    <body>
        
        <div class="container">
            <div class="textbox-container">

                <!-- Adds our textbox forms -->
                <form id="login-form">
                    <label for="un-textbox">Username: </label>
                    <input type="text" id="un-textbox" name="un-textbox" placeholder="Enter your username">
                    <!-- Adds password label and box -->
                    <label for="pw-textbox">Password: </label>
                    <input type="text" id="pw-textbox" name="pw-textbox" placeholder="Enter your password">
                    <!--Adds submit box -->
                    <input type="submit" value="Submit">    
                </form>

            </div>
        </div>

        <!-- Start of javascript -->
        <script>
            document.getElementById("login-form").addEventListener("submit", function(event) {
                // Prevent Default submissions
                event.preventDefault();

                // Get value of username and password when submit is pressed
                var unValue = document.getElementById("un-textbox").value;
                //var pwValue = document.getElementById("pw-textbox").value;

                // Json object with text value
                var loginData = { text: unValue };

                // Make an HTTP POST request to the Go server
                fetch("http://localhost:8080/submit", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify(loginData),
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    console.log("Text submitted successfully!");
                })
                .catch(error => {
                    console.error("Error submitting text:", error);
                });
            });

        </script>
        <!-- End of javascript -->

    </body>

</html>